<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>蛻晏ｿ・・髄縺代し繝ｼ繝輔・繝ｼ繝峨・驕ｸ縺ｳ譁ｹ縲占ｨｺ譁ｭ莉倥″繝ｻ菫晏ｭ倡沿縲・/title>
  <meta name="description" content="繧ｹ繧ｿ繧､繝ｫ縺ｮ繧､繝｡繝ｼ繧ｸ・医ｆ縺｣縺溘ｊ・上ｆ縺｣縺溘ｊ・区橿・乗橿驥崎ｦ厄ｼ峨→菴馴㍾繝ｻ菴灘鴨繝ｻ邏譚舌°繧峨・聞縺輔・蟷・・蜴壹∩繝ｻ豬ｮ蜉帙・逶ｮ螳峨ｒ謠千､ｺ縺励√ち繧､繝暦ｼ矩聞縺輔〒Amazon/Rakuten縺ｮ讀懃ｴ｢繝ｪ繝ｳ繧ｯ繧堤函謌舌ゅち繧､繝怜挨繝ｻ邏譚仙挨縺ｮ迚ｹ蠕ｴ縲∝､ｱ謨励＠縺ｪ縺・さ繝・ｂ謗ｲ霈峨・ />
  <link rel="stylesheet" href="./nav.css" />
  <script src="./nav.js" defer></script>
  <style>
    :root{
      --bg:#ffffff;--fg:#0f172a;--muted:#475569;--brand:#0ea5e9;--accent:#22c55e;--line:#e2e8f0;--chip:#f1f5f9;
    }
    html{scroll-behavior:smooth;scroll-padding-top:72px}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic UI",sans-serif;line-height:1.75}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:1080px;margin:0 auto;padding:0 16px}
    .page-links{display:flex;align-items:center;justify-content:flex-end;gap:12px;flex-wrap:wrap;font-size:14px;color:var(--muted);padding:12px 16px 0}
    .page-links a{color:var(--muted);font-weight:600}
    .page-links a:hover{color:var(--brand)}
    main{padding:24px 0}
    h1{font-size:clamp(24px,3vw,36px);line-height:1.3;margin:8px 0 16px}
    h2{font-size:clamp(18px,2.2vw,24px);margin:32px 0 12px}
    h3{margin:18px 0 8px;font-size:clamp(16px,2vw,20px)}
    .lead{color:var(--muted);font-size:16px}
    .toc{background:var(--chip);border:1px solid var(--line);border-radius:12px;padding:12px;margin:24px 0}
    .toc li{margin:6px 0}

    /* 險ｺ譁ｭ UI */
    .diag{background:linear-gradient(180deg,#f0f9ff,#fff);border:1px solid var(--line);border-radius:14px;padding:16px;margin:18px 0}
    .diag form{display:grid;gap:12px;grid-template-columns:1fr 1fr}
    .diag label{display:flex;flex-direction:column;gap:6px;font-weight:600}
    .diag select,.diag input{padding:10px;border-radius:8px;border:1px solid var(--line)}
    .diag .span2{grid-column:1/-1}
    .diag .mini{font-size:.9rem;color:var(--muted)}
    .diag .out{margin-top:14px;display:grid;gap:16px;grid-template-columns:1.2fr 1fr}
    .card{border:1px solid var(--line);border-radius:12px;padding:12px;background:#fff}
    .prov{display:grid;gap:12px;grid-template-columns:repeat(2,1fr)}
    .prov .p{background:#fff;border:1px solid var(--line);border-radius:12px;padding:10px}
    .prov .btns{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);background:#fff;padding:8px 10px;border-radius:10px;font-weight:600}
    .btn[data-a]{border-color:#ffd000;background:#fff8dd}
    .btn[data-r]{border-color:#e11d48;background:#fff1f2}
    .btn svg{width:16px;height:16px}
    .btn span{font-size:14px}
    @media (max-width:900px){ .diag .out{grid-template-columns:1fr} .diag form{grid-template-columns:1fr} .prov{grid-template-columns:1fr} }

    .chip{display:inline-block;background:var(--chip);border:1px solid var(--line);padding:2px 8px;border-radius:999px;font-size:12px;margin-right:6px}
    .aside{background:#f8fafc;border:1px solid var(--line);padding:16px;border-radius:12px}
    footer{border-top:1px solid var(--line);margin-top:32px}
    .foot{display:flex;justify-content:space-between;gap:12px;padding:24px 0;color:var(--muted);font-size:14px}
    .breadcrumbs{font-size:13px;color:var(--muted);margin:8px 0 16px}
    .meta{font-size:12px}
    code{white-space:normal}
  </style>
</head>
<body>
  <header class="global-bar">
    <div class="global-bar__inner">
      <a class="global-bar__brand" href="./index.html#top" aria-label="SLOSEA 縺ｮ繝医ャ繝励∈謌ｻ繧・>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M2 16c4 0 4-8 8-8s4 8 8 8 4-8 8-8"/></svg>
        <span>SLOSEA</span>
      </a>
      <button class="global-bar__menu" type="button" aria-label="繝｡繝九Η繝ｼ繧帝幕縺・ aria-expanded="false" aria-controls="global-menu">
        <svg class="global-bar__menu-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" aria-hidden="true">
          <path d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <nav class="global-bar__meta" aria-label="繝代Φ縺上★繝ｪ繧ｹ繝・>
      <ol class="global-bar__crumbs">
        <li><a href="./index.html#apps">險倅ｺ・/a></li>
        <li aria-current="page">繧ｵ繝ｼ繝輔・繝ｼ繝蛾∈縺ｳ縲占ｨｺ譁ｭ莉倥″縲・/li>
      </ol>
    </nav>
  </header>

  <nav class="page-links wrap" aria-label="繝壹・繧ｸ蜀・Μ繝ｳ繧ｯ">
    <a href="#type">繧ｿ繧､繝怜挨縺ｮ迚ｹ蠕ｴ</a>
    <a href="#size">菴馴㍾繝ｻ霄ｫ髟ｷ蛻･繧ｵ繧､繧ｺ逶ｮ螳・/a>
    <a href="#mistakes">蛻晏ｿ・・′繧・ｊ縺後■縺ｪ螟ｱ謨・/a>
    <a href="#diagnosis">繧ｵ繝ｼ繝輔・繝ｼ繝芽ｨｺ譁ｭ</a>
    <a href="#faq">FAQ</a>
  </nav>

  <main class="wrap">
    <div class="breadcrumbs">繝帙・繝 窶ｺ 險倅ｺ・窶ｺ 蛻晏ｿ・・髄縺代し繝ｼ繝輔・繝ｼ繝峨・驕ｸ縺ｳ譁ｹ</div>

    <article>
      <h1>蛻晏ｿ・・髄縺代し繝ｼ繝輔・繝ｼ繝峨・驕ｸ縺ｳ譁ｹ縲占ｨｺ譁ｭ莉倥″繝ｻ菫晏ｭ倡沿縲・/h1>
      <p class="lead">縺薙・繝壹・繧ｸ縺ｧ縺ｯ縲√ち繧､繝怜挨縺ｮ迚ｹ蠕ｴ繝ｻ繧ｵ繧､繧ｺ逶ｮ螳峨・繧医￥縺ゅｋ螟ｱ謨励・險ｺ譁ｭ繝ｻFAQ縺ｮ豬√ｌ縺ｧ縺疲｡亥・縺励∪縺吶りｨｺ譁ｭ縺ｧ縺ｯ蜈･蜉帛・螳ｹ縺ｫ蝓ｺ縺･縺咲岼螳峨・繧ｵ繧､繧ｺ繧定｡ｨ遉ｺ縺励√ち繧､繝暦ｼ矩聞縺輔〒Amazon/Rakuten縺ｮ讀懃ｴ｢繝ｪ繝ｳ繧ｯ繧定・蜍慕函謌舌＠縺ｾ縺吶・/p>

      <div class="toc">
        <strong>逶ｮ谺｡</strong>
        <ol>
          <li><a href="#type">繧ｿ繧､繝怜挨縺ｮ迚ｹ蠕ｴ</a></li>
          <li><a href="#size">菴馴㍾繝ｻ霄ｫ髟ｷ蛻･繧ｵ繧､繧ｺ逶ｮ螳・/a></li>
          <li><a href="#mistakes">蛻晏ｿ・・′繧・ｊ縺後■縺ｪ螟ｱ謨・/a></li>
          <li><a href="#diagnosis">繧ｵ繝ｼ繝輔・繝ｼ繝芽ｨｺ譁ｭ・郁ｳｼ蜈･蛟呵｣懊Μ繝ｳ繧ｯ逕滓・・・/a></li>
          <li><a href="#faq">FAQ</a></li>
        </ol>
      </div>

      <!-- 1. 繧ｿ繧､繝怜挨縺ｮ迚ｹ蠕ｴ + 邏譚仙挨縺ｮ迚ｹ蠕ｴ -->
      <section id="type">
        <h2>繧ｿ繧､繝怜挨縺ｮ迚ｹ蠕ｴ</h2>
        <ul>
          <li><span class="chip">繧ｷ繝ｧ繝ｼ繝・/span> 5'8縲・'6縲ょ叙繧雁屓縺励→讖溷虚諤ｧ驥崎ｦ悶ょ香蛻・↑豬ｮ蜉帙ｒ遒ｺ菫昴☆繧九→鄙貞ｾ励＠繧・☆縺・・/li>
          <li><span class="chip">繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ</span> 6'8縲・'6縲ょｮ牙ｮ壹→蜿悶ｊ蝗槭＠縺ｮ繝舌Λ繝ｳ繧ｹ縲ょｰ乗ｳ｢縲懆・閧ｩ縺ｾ縺ｧ螳亥ｙ遽・峇縺悟ｺ・＞縲・/li>
          <li><span class="chip">繝ｭ繝ｳ繧ｰ</span> 9'0縲懊よ怙繧ょｮ牙ｮ壹ょｰ乗ｳ｢縺ｫ蠑ｷ縺上け繝ｫ繝ｼ繧ｺ蜷代″縲ゆｿ晉ｮ｡繝ｻ驕区成縺ｮ遒ｺ隱阪′蠢・ｦ√・/li>
        </ul>

        <h3>邏譚仙挨縺ｮ迚ｹ蠕ｴ</h3>
        <ul>
          <li><span class="chip">繝上・繝・/span> PU/EPS 縺ｪ縺ｩ縺ｮ遑ｬ雉ｪ邏譚舌ゅく繝ｬ縺ｨ蜿咲匱縺悟・繧・☆縺上√・繝ｼ繝峨・繝ｬ繧ｹ繝昴Φ繧ｹ縺ｫ蜆ｪ繧後ｋ縲・/li>
          <li><span class="chip">繧ｽ繝輔ヨ</span> 繝輔か繝ｼ繝螟冶｣・〒螳牙・諤ｧ縺碁ｫ倥＞縲よｵｮ蜉帙′蜃ｺ繧・☆縺上∵ｷｷ髮第凾繧・ン繧ｮ繝翫・縺ｫ螂ｽ驕ｩ縲・/li>
        </ul>
      </section>

      <!-- 2. 菴馴㍾繝ｻ霄ｫ髟ｷ蛻･繧ｵ繧､繧ｺ逶ｮ螳・-->
      <section id="size">
        <h2>菴馴㍾繝ｻ霄ｫ髟ｷ蛻･繧ｵ繧､繧ｺ逶ｮ螳・/h2>
        <div class="aside">
          <ul>
            <li>縲・0kg: 35縲・0L / 7'0縲・'0</li>
            <li>50縲・5kg: 40縲・0L / 7'6縲・'6</li>
            <li>65縲・0kg: 50縲・0L / 8'0縲・'0</li>
            <li>80kg縲・ 60縲・5L / 8'6縲・'6</li>
          </ul>
        </div>
      </section>

      <!-- 3. 蛻晏ｿ・・′繧・ｊ縺後■縺ｪ螟ｱ謨・-->
      <section id="mistakes">
        <h2>蛻晏ｿ・・′繧・ｊ縺後■縺ｪ螟ｱ謨・/h2>
        <ul>
          <li>豬ｮ蜉帑ｸ崎ｶｳ繧帝∈繧薙〒縺励∪縺・∵ｳ｢縺ｫ荵励ｌ縺ｪ縺・/li>
          <li>隕九◆逶ｮ驥崎ｦ悶〒繧ｷ繝ｧ繝ｼ繝医↓縺吶ｋ 竊・豕｢縺ｫ荵励ｌ縺ｪ縺・/li>
          <li>荳ｭ蜿､縺ｧ螳峨￥雋ｷ縺｣縺ｦ繧ゅ∝粋繧上★縺ｫ邨仙ｱ雋ｷ縺・峩縺吶・/li>
        </ul>
      </section>

      <!-- 4. 繧ｵ繝ｼ繝輔・繝ｼ繝芽ｨｺ譁ｭ・郁ｳｼ蜈･蛟呵｣懊Μ繝ｳ繧ｯ逕滓・・・-->
      <section id="diagnosis" class="diag" aria-labelledby="diag-title">
        <h2 id="diag-title">繧ｵ繝ｼ繝輔・繝ｼ繝芽ｨｺ譁ｭ・郁ｳｼ蜈･蛟呵｣懊Μ繝ｳ繧ｯ逕滓・・・/h2>
        <form id="surfForm">
          <label>菴馴㍾・・g・・            <input id="weight" type="number" min="35" max="120" step="1" placeholder="萓具ｼ・8" required />
          </label>
          <label>繧ｹ繧ｿ繧､繝ｫ縺ｮ繧､繝｡繝ｼ繧ｸ
            <select id="styleIntent" aria-label="繧ｹ繧ｿ繧､繝ｫ縺ｮ繧､繝｡繝ｼ繧ｸ">
              <option value="slow-cruise" selected>繧・▲縺溘ｊ縺ｨ豕｢縺ｫ荵励ｊ縺溘＞</option>
              <option value="cruise-with-tricks">繧・▲縺溘ｊ縺ｨ豕｢縺ｫ荵励ｊ縺溘＞縺梧橿繧よ･ｽ縺励∩縺溘＞</option>
              <option value="tricks-focused">謚繧堤ｩ肴･ｵ逧・↓讌ｽ縺励∩縺溘＞</option>
            </select>
          </label>
          <label>邏譚舌ｒ驕ｸ縺ｶ
            <select id="material">
              <option value="繝上・繝・ selected>繝上・繝・/option>
              <option value="繧ｽ繝輔ヨ">繧ｽ繝輔ヨ</option>
            </select>
          </label>
          <label>菴灘鴨
            <select id="fitness">
              <option value="low">蠑ｱ繧・/option>
              <option value="mid" selected>縺ｵ縺､縺・/option>
              <option value="high">蠑ｷ繧・/option>
            </select>
          </label>
          <div class="span2 mini">險ｺ譁ｭ蠕後∵Φ螳壹ち繧､繝励↓蜷医ｏ縺帙◆ Amazon / 讌ｽ螟ｩ 縺ｮ讀懃ｴ｢繝ｪ繝ｳ繧ｯ・医ち繧､繝暦ｼ矩聞縺輔・縺ｿ・峨ｒ陦ｨ遉ｺ縺励∪縺吶・/div>
          <button class="btn span2" type="button" onclick="diagnose()">險ｺ譁ｭ縺吶ｋ</button>
        </form>

        <div id="diagOut" class="out" hidden>
          <article class="card">
            <h3 id="outType">窶・/h3>
            <p id="outWhy" class="meta">窶・/p>
            <p class="meta" id="outVol">窶・/p>
            <table class="table" style="width:100%;border-collapse:collapse;border:1px solid var(--line);border-radius:12px;overflow:hidden">
              <thead><tr><th>鬆・岼</th><th>謗ｨ螂ｨ蛟､・育岼螳会ｼ・/th></tr></thead>
              <tbody>
                <tr><td>髟ｷ縺・/td><td id="outLen">窶・/td></tr>
                <tr><td>蟷・/td><td id="outWid">窶・/td></tr>
                <tr><td>蜴壹∩</td><td id="outThk">窶・/td></tr>
              </tbody>
            </table>
          </article>
          <div class="card">
            <h3>縺薙・繧ｿ繧､繝励ｒ謗｢縺・/h3>
            <div class="prov">
              <div class="p"><strong>Amazon</strong><div class="btns" id="linksAmz"></div></div>
              <div class="p"><strong>讌ｽ螟ｩ蟶ょｴ</strong><div class="btns" id="linksRkt"></div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- 5. FAQ -->
      <section id="faq">
        <h2>FAQ</h2>
        <details>
          <summary>譛蛻昴・1譛ｬ縺ｯ縺・￥繧我ｽ阪′逶ｮ螳会ｼ・/summary>
          <p>蛻晏ｿ・・髄縺代・繧ｽ繝輔ヨ/繝溘ャ繝峨・2.5荳・・縲・荳・・遞句ｺｦ縲ゅΜ繝ｼ繧ｷ繝･繧・Ρ繝・け繧ｹ縺ｪ縺ｩ縺ｮ蟆冗黄繧ょ酔譎ゅ↓謠・∴繧九→蜷郁ｨ医〒3荳・・0荳・・縺ｻ縺ｩ縲・/p>
        </details>
        <details>
          <summary>荳ｭ蜿､縺ｯ繧｢繝ｪ・・/summary>
          <p>迥ｶ諷九・繧ｵ繧､繧ｺ縺碁←豁｣縺ｪ繧峨い繝ｪ縲ゅ◆縺縺怜・蠢・・・繝繝｡繝ｼ繧ｸ縺ｮ濶ｯ縺玲が縺怜愛譁ｭ縺碁屮縺励＞縺溘ａ縲∵怙蛻昴・譁ｰ蜩・謨ｴ蛯呎ｸ医∩謗ｨ螂ｨ縲・/p>
        </details>
      </section>

      <aside class="aside" style="margin-top:24px">
        <strong>髢｢騾｣險倅ｺ・/strong>
        <ul>
          <li><a href="/articles/wetsuit-beginner.html">蛻晏ｿ・・髄縺代え繧ｧ繝・ヨ繧ｹ繝ｼ繝・・驕ｸ縺ｳ譁ｹ</a></li>
          <li><a href="/articles/leash-howto.html">繝ｪ繝ｼ繧ｷ繝･繧ｳ繝ｼ繝峨・驕ｸ縺ｳ譁ｹ</a></li>
          <li><a href="/articles/wax-guide.html">繧ｵ繝ｼ繝輔Ρ繝・け繧ｹ螳悟・繧ｬ繧､繝・/a></li>
          <li><a href="/articles/first-set.html">蛻晏ｿ・・′謠・∴繧九∋縺埼％蜈ｷ荳蠑・/a></li>
        </ul>
      </aside>
    </article>

    <footer>
      <div class="foot">
        <div>ﾂｩ <span id="year"></span> SLOSEA</div>
        <div><a href="/about.html">驕句霧閠・ュ蝣ｱ</a> ﾂｷ <a href="/policy.html">繧｢繝輔ぅ繝ｪ繧ｨ繧､繝医・繝ｪ繧ｷ繝ｼ</a></div>
      </div>
    </footer>
  </main>

  <script>
    // ====== ASP繝代Λ繝｡繝ｼ繧ｿ・・mazon/Rakuten・・======
    const AFFIL = {
      amazon: { base: 'https://www.amazon.co.jp/s', tag: 'surf526-22' },
      rakuten: { base: 'https://search.rakuten.co.jp/search/mall/', affId: '4be85441.78c3c098.4be85442.035cdd1c' }
    };

    function buildAmazonUrl(keyword){
      const p = new URL(AFFIL.amazon.base);
      p.searchParams.set('k', keyword);
      if (AFFIL.amazon.tag) p.searchParams.set('tag', AFFIL.amazon.tag);
      return p.toString();
    }
    function buildRakutenUrl(keyword){
      const dest = `${AFFIL.rakuten.base}${encodeURIComponent(keyword)}/`;
      return `https://hb.afl.rakuten.co.jp/hgc/${AFFIL.rakuten.affId}/?pc=${encodeURIComponent(dest)}&m=${encodeURIComponent(dest)}`;
    }

    // ====== 菴馴㍾逶ｮ螳峨ユ繝ｼ繝悶Ν・磯聞縺・豬ｮ蜉幢ｼ峨・繝溘ャ繝峨・繝ｭ繝ｳ繧ｰ縺ｮ逶ｮ螳峨→縺励※菴ｿ逕ｨ ======
    const WEIGHT_TABLE = [
      { maxW: 50, len:[7.0,8.0],  vol:[35,50] },
      { maxW: 65, len:[7.5,8.5],  vol:[40,60] },
      { maxW: 80, len:[8.0,9.0],  vol:[50,70] },
      { maxW: 999, len:[8.5,9.5], vol:[60,85] }
    ];

    // 繧ｿ繧､繝怜挨縺ｮ蝓ｺ貅悶Ξ繝ｳ繧ｸ・磯聞縺輔・蟷・・蜴壹∩・・    const TYPE_TABLE = {
      '繧ｷ繝ｧ繝ｼ繝・:       { len:[5.8, 6.6],  wid:[18.5, 21.0], thick:[2.30, 2.80], why:'蜿悶ｊ蝗槭＠驥崎ｦ悶ょ香蛻・↑豬ｮ蜉帙ｒ遒ｺ菫昴☆繧九→鄙貞ｾ励＠繧・☆縺・・ },
      '繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ': { len:[6.8, 7.6],  wid:[20.5, 22.5], thick:[2.60, 3.00], why:'螳牙ｮ壹→蜿悶ｊ蝗槭＠縺ｮ繝舌Λ繝ｳ繧ｹ縲ょｮ亥ｙ遽・峇縺悟ｺ・＞縲・ },
      '繝ｭ繝ｳ繧ｰ':         { len:[9.0, 9.6],  wid:[22.5, 23.5], thick:[2.75, 3.25], why:'譛繧ょｮ牙ｮ壹ょｰ乗ｳ｢縺ｫ蠑ｷ縺上け繝ｫ繝ｼ繧ｺ蜷代″縲・ }
    };

    function rowByWeight(w){
      return WEIGHT_TABLE.find(r => w <= r.maxW) || WEIGHT_TABLE[WEIGHT_TABLE.length-1];
    }

    function clamp(v, lo, hi){ return Math.max(lo, Math.min(hi, v)); }

    // --- 繧ｷ繝ｧ繝ｼ繝医・繝吶・繧ｹ+5L縲ゅせ繧ｿ繧､繝ｫ竊偵ち繧､繝励・繝槭ャ繝斐Φ繧ｰ繧定ｿｽ蜉 ---
    function getRecommendedVolume(type, weight, fitness){
      if(type === '繧ｷ繝ｧ繝ｼ繝・){
        const k = (fitness === 'low') ? 0.45 : (fitness === 'high') ? 0.36 : 0.40;
        const lo = 28, hi = 48;
        const base = weight * k;
        const liters = base + 5; // 繝吶・繧ｹ・・L
        return { lo, hi, rec: Math.round(clamp(liters, lo, hi)) };
      }
      // 繝溘ャ繝会ｼ上Ο繝ｳ繧ｰ縺ｯ菴馴㍾陦ｨ繝ｬ繝ｳ繧ｸ繧偵・繝ｼ繧ｹ縺ｫ菴灘鴨陬懈ｭ｣
      const base = rowByWeight(weight).vol.slice();
      let add = 0;
      if(fitness === 'low') add += 5;
      if(fitness === 'high') add -= 5;
      if(type === '繝ｭ繝ｳ繧ｰ') add += 5;
      let lo = base[0] + add, hi = base[1] + add;
      if(type === '繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ'){ lo = Math.max(40, lo); hi = Math.min(70, hi); }
      if(type === '繝ｭ繝ｳ繧ｰ'){ lo = Math.max(60, lo); hi = Math.min(90, hi, 85); }
      const rec = Math.round((lo + hi) / 2);
      return { lo, hi, rec };
    }

    function mergeLengthRanges(typeRange, weightRange, type){
      if (type === '繧ｷ繝ｧ繝ｼ繝・) return [ +(typeRange[0].toFixed(2)), +(typeRange[1].toFixed(2)) ];
      const [a0,a1] = typeRange, [b0,b1] = weightRange;
      const lo = Math.max(a0,b0), hi = Math.min(a1,b1);
      if (lo <= hi) return [ +(lo.toFixed(2)), +(hi.toFixed(2)) ];
      const adjLo = Math.max(Math.min(a0,a1), b0-0.25);
      const adjHi = Math.min(Math.max(a0,a1), b1+0.25);
      return [ +(adjLo.toFixed(2)), +(adjHi.toFixed(2)) ];
    }

    function tweakDimensions(baseWid, baseThk, weight){
      const wBucket = (weight<55)? -1 : (weight<=75)? 0 : 1;
      const k = Math.max(-0.12, Math.min(0.12, (wBucket*0.09)));
      const lerp = ([min,max], t)=>[ +(min+(max-min)*(0.5+t/2)).toFixed(2), +(max+(max-min)*(0.5+t/2)).toFixed(2) ];
      return { wid: lerp(baseWid, k), thk: lerp(baseThk, k) };
    }
    function materialTweakDims(dims, material){
      const [w0,w1] = dims.wid;
      const [t0,t1] = dims.thk;
      if(material === '繧ｽ繝輔ヨ'){
        return {
          wid:[ +(w0+0.20).toFixed(2), +(w1+0.20).toFixed(2) ],
          thk:[ +(t0+0.10).toFixed(2), +(t1+0.10).toFixed(2) ]
        };
      }
      return dims;
    }

    const toFeetInches = (v)=>{ const f=Math.floor(v); const i=Math.round((v-f)*12); return {feet:f,inches:i}; };
    const fmtFeetInches = ({feet,inches}) => `${feet}'${inches}"`;
    const rangeFeetInches = ([a,b])=>{ const A=toFeetInches(a), B=toFeetInches(b); return `${fmtFeetInches(A)} 縲・${fmtFeetInches(B)}`; };
    const rangeCm = ([a,b])=>`${Math.round(a*30.48)}縲・{Math.round(b*30.48)}cm`;
    const rangeInch = ([a,b])=>`${a.toFixed(2)}縲・{b.toFixed(2)}"`;

    function typeKeyword(type){
      if(type==='繧ｷ繝ｧ繝ｼ繝・) return '繧ｷ繝ｧ繝ｼ繝医・繝ｼ繝・;
      if(type==='繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ') return '繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ 繧ｵ繝ｼ繝輔・繝ｼ繝・;
      return '繝ｭ繝ｳ繧ｰ繝懊・繝・;
    }
    function searchKeywords(type, avgLenFI){
      const lenStr = `${avgLenFI.feet}'${avgLenFI.inches}"`;
      const key = typeKeyword(type);
      return [ `${key} ${lenStr}`, `${key}` ];
    }

    // 繧ｹ繧ｿ繧､繝ｫ 竊・繧ｿ繧､繝励↓繝槭ャ繝斐Φ繧ｰ
    function typeFromStyle(style){
      if(style === 'slow-cruise') return '繝ｭ繝ｳ繧ｰ';
      if(style === 'cruise-with-tricks') return '繝溘ャ繝峨Ξ繝ｳ繧ｰ繧ｹ';
      return '繧ｷ繝ｧ繝ｼ繝・; // tricks-focused
    }

    function setBtnLinks(el, links){
      el.innerHTML='';
      links.forEach(l=>{
        const a=document.createElement('a');
        a.className='btn'; a.href=l.url; a.target='_blank';
        a.rel='sponsored nofollow noopener';
        a.textContent=l.label;
        el.appendChild(a);
      });
    }

    function diagnose(){
      const weight = Number(document.getElementById('weight').value || 0);
      const style = document.getElementById('styleIntent').value;
      const type = typeFromStyle(style);
      const material = document.getElementById('material').value;
      const fitness = document.getElementById('fitness').value;

      if(!weight || weight < 35){ alert('菴馴㍾(kg)繧貞・蜉帙＠縺ｦ縺上□縺輔＞'); return; }

      const T = TYPE_TABLE[type];
      const W = rowByWeight(weight);

      const lenRange = mergeLengthRanges(T.len, W.len, type);
      let dims = tweakDimensions(T.wid, T.thick, weight);
      dims = materialTweakDims(dims, material);

      const vol = getRecommendedVolume(type, weight, fitness);

      document.getElementById('diagOut').hidden = false;
      document.getElementById('outType').textContent = `${type}・・{material}・荏;
      document.getElementById('outWhy').textContent = T.why + (material==='繧ｽ繝輔ヨ' ? '・医た繝輔ヨ縺ｯ螳牙・諤ｧ繝ｻ豬ｮ蜉帛ｯ・ｊ・・ : '');
      document.getElementById('outVol').innerHTML =
        `謗ｨ螂ｨ豬ｮ蜉帙・逶ｮ螳・ <strong>${vol.rec}L</strong>・育ｴ・{vol.lo}縲・{vol.hi}L・荏;
      document.getElementById('outLen').innerHTML =
        `${rangeFeetInches(lenRange)} <span class="mini">・・{rangeCm(lenRange)}・・/span>`;
      document.getElementById('outWid').textContent = rangeInch(dims.wid);
      document.getElementById('outThk').textContent = rangeInch(dims.thk);

      const avgLen = (lenRange[0] + lenRange[1]) / 2;
      const avgFI = toFeetInches(avgLen);
      const kws = searchKeywords(type, avgFI);
      const L = {
        amazon: [ {label:'讀懃ｴ｢', url: buildAmazonUrl(kws[0])}, {label:'莉｣譖ｿ', url: buildAmazonUrl(kws[1])} ],
        rakuten:[ {label:'讀懃ｴ｢', url: buildRakutenUrl(kws[0])}, {label:'莉｣譖ｿ', url: buildRakutenUrl(kws[1])} ]
      };
      setBtnLinks(document.getElementById('linksAmz'), L.amazon);
      setBtnLinks(document.getElementById('linksRkt'), L.rakuten);

      window.scrollTo({ top: document.getElementById('diagOut').offsetTop - 16, behavior: 'smooth' });
    }

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <nav class="global-menu" id="global-menu" data-global-menu aria-hidden="true">
    <div class="global-menu__backdrop" data-menu-dismiss aria-hidden="true"></div>
    <div class="global-menu__panel" role="dialog" aria-modal="true" aria-labelledby="global-menu-title">
      <div class="global-menu__header">
        <h2 class="global-menu__title" id="global-menu-title">繧ｳ繝ｳ繝・Φ繝・ｸ隕ｧ</h2>
        <button class="global-menu__close" type="button" aria-label="繝｡繝九Η繝ｼ繧帝哩縺倥ｋ" data-menu-dismiss data-menu-initial>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" />
          </svg>
        </button>
      </div>
      <ul class="global-menu__list">
        <li class="global-menu__item"><a href="./index.html#apps">繝帙・繝 / 繧ｳ繝ｳ繝・Φ繝・ｸ隕ｧ</a><p>SLOSEA 縺ｮ譛譁ｰ繧ｳ繝ｳ繝・Φ繝・∪縺ｨ繧√・/p></li>
        <li class="global-menu__item"><a href="./繧ｵ繝ｼ繝輔・繝ｼ繝蛾∈縺ｳ.html">繧ｵ繝ｼ繝輔・繝ｼ繝蛾∈縺ｳ縲蝉ｿ晏ｭ倡沿縲・/a><p>逶ｮ逧・↓蜷医ｏ縺帙◆繝懊・繝峨・驕ｸ縺ｳ譁ｹ繧ｬ繧､繝峨・/p></li>
        <li class="global-menu__item"><a href="./game.html">Surf Mini Game</a><p>豕｢繧帝∩縺代※繧ｳ繧､繝ｳ繧帝寔繧√ｋ繧ｫ繧ｸ繝･繧｢繝ｫ繧ｲ繝ｼ繝縲・/p></li>
        <li class="global-menu__item"><a href="./stickers.html">繧ｵ繝ｼ繝輔せ繝・ャ繧ｫ繝ｼ驟榊ｸ・/a><p>繝懊・繝峨ｄSNS縺ｧ菴ｿ縺医ｋ繝・ず繧ｿ繝ｫ繧ｹ繝・ャ繧ｫ繝ｼ縲・/p></li>
        <li class="global-menu__item"><a href="./about.html">SLOSEA 縺ｫ縺､縺・※</a><p>繧ｵ繧､繝医・繧ｳ繝ｳ繧ｻ繝励ヨ繧・宛菴懆レ譎ｯ繧堤ｴｹ莉九・/p></li>
        <li class="global-menu__item"><a href="./policy.html">繝励Λ繧､繝舌す繝ｼ繝昴Μ繧ｷ繝ｼ</a><p>蛻ｩ逕ｨ閠・・縺ｿ縺ｪ縺輔∪縺ｫ螳牙ｿ・＠縺ｦ菴ｿ縺｣縺ｦ縺・◆縺縺上◆繧√↓縲・/p></li>
      </ul>
      <p class="global-menu__footer">縺泌ｸ梧悍縺ｮ繧ｳ繝ｳ繝・Φ繝・ｒ驕ｸ謚槭＠縺ｦ縺上□縺輔＞縲・/p>
      <button class="global-menu__close" type="button" data-menu-dismiss>
        繝｡繝九Η繝ｼ繧帝哩縺倥ｋ
      </button>
    </div>
  </nav>
</body>
</html>

